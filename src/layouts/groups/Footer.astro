---
import { currentLocale, useI18n } from "astro-nanostores-i18n:runtime";
import { version } from "../../../package.json";
import Contact from "./Contact.astro";
import { params } from "@nanostores/i18n";
import Settings from "./Settings.astro";
import { prepareNavigation } from "../../utils/paths";
import Navigation from "../../components/Navigation.astro";

type Props = {
  translations?: Record<string, string>;
};
const { translations } = Astro.props;
const messages = useI18n("layouts/groups/Footer.astro", {
  copyright: "Â© 2025 Code for Humans. All rights reserved.",
  version: params("Version {version}"),
});
const locale = currentLocale.get();
const navigation = await prepareNavigation(`legal/${locale}`);
---

<footer>
  <Contact />
  <Settings translations={translations} />
  <Navigation items={navigation} />
  <ul class="copyright">
    <li>{messages.copyright}</li>
    <li>{messages.version({ version })}</li>
  </ul>
</footer>
