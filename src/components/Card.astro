---
import type { ImageMetadata } from "astro";
import DerivedCover from "../components/DerivedCover.astro";

type Props = {
  title: string;
  cover?: { alt: string; image: ImageMetadata };
  icon?: { alt: string; image: ImageMetadata };
};

const { title, cover, icon } = Astro.props;
---

<div class="card">
  <slot name="title">
    <h2>{title}</h2>
  </slot>
  <div class="card-description">
    <slot name="description">
      <p>Set description slot!</p>
    </slot>
  </div>
  <div class="card-actions">
    <slot name="actions">
      <a href="#" class="button">Set actions slot!</a>
    </slot>
  </div>
  <div class="card-spotlight">
    <div class="card-spotlight-background">
      {cover && <img src={cover.image.src} alt={cover.alt} width={cover.image.width} height={cover.image.height} />}
      {!cover && <DerivedCover value={title} />}
    </div>
    {icon && <img src={icon.image.src} alt={icon.alt} width={icon.image.width} height={icon.image.height} />}
  </div>
</div>
